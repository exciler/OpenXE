import{r as A,o as s,E as j,I as f,g as d,i as E,k as m,p as y,a as l,t as c,w as n,j as u,h as i,c as r,f as _,F as v,J as w,q as I}from"../vue-0nJrbkXv.js";import{a as k}from"../axios-Cm0UX6qg.js";import{b as B,_ as N,r as C}from"../AutoComplete-BZ3TzYun.js";import"../index.esm-A6JFDwqA.js";const L={class:"grid gap-1",style:{"grid-template-columns":"25% 75%"}},P=l("label",null,"API Account ID:",-1),T=l("label",null,"Aktiv:",-1),D=l("label",null,"Bezeichnung:",-1),H=l("label",null,"Projekt:",-1),S=l("label",null,"App Name / Benutzername:",-1),z=l("label",null,"Initkey / Passwort:",-1),F=l("label",null,"Event URL:",-1),Q=l("label",null,"Warteschlange Bezeichnung:",-1),q=l("label",null,"Import Warteschlange:",-1),M=l("label",null,"UTF8 Clean:",-1),R=l("label",null,"Ohne HTML Umwandlung:",-1),K=l("h2",null,"Permissions",-1),O=l("div",null,null,-1),W={style:{"margin-bottom":"2px"}},$=["value"],J={__name:"ApiAccountEdit",setup(G){const e=A(null),x=window.apiAccountPermissions;document.querySelector("a.neubuttonlink").addEventListener("click",()=>{e.value=Object({permissions:[]})}),document.querySelector("#api_account_list").addEventListener("click",o=>{if(o.target instanceof Element){let t=o.target.closest("a.get");t&&t.dataset.id>0&&V(t.dataset.id)}});async function U(){await k.post("index.php?module=api_account&action=list&cmd=save",e.value).then(()=>{C(),p()})}async function V(o){await k.post("index.php?module=api_account&action=list&cmd=get",{id:parseInt(o)}).then(t=>e.value=t.data)}function p(){e.value=null}return(o,t)=>e.value?(s(),j(d(B),{key:0,visible:"",modal:"",header:"API Account",style:{width:"940px"},"onUpdate:visible":p},{footer:f(()=>[m(d(y),{label:"ABBRECHEN",onClick:p}),m(d(y),{label:"SPEICHERN",onClick:U,disabled:!e.value.name},null,8,["disabled"])]),default:f(()=>[l("div",L,[P,l("span",null,c(e.value.id),1),T,n(l("input",{type:"checkbox","onUpdate:modelValue":t[0]||(t[0]=a=>e.value.active=a),class:"justify-self-start"},null,512),[[u,e.value.active]]),D,n(l("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=a=>e.value.name=a)},null,512),[[i,e.value.name]]),H,m(N,{modelValue:e.value.projectId,"onUpdate:modelValue":t[2]||(t[2]=a=>e.value.projectId=a),optionLabel:a=>[a.abkuerzung,a.name].join(" "),ajaxFilter:"projektname",forceSelection:""},null,8,["modelValue","optionLabel"]),S,n(l("input",{type:"text","onUpdate:modelValue":t[3]||(t[3]=a=>e.value.remoteDomain=a)},null,512),[[i,e.value.remoteDomain]]),z,n(l("input",{type:"text","onUpdate:modelValue":t[4]||(t[4]=a=>e.value.initKey=a)},null,512),[[i,e.value.initKey]]),F,n(l("input",{type:"text","onUpdate:modelValue":t[5]||(t[5]=a=>e.value.eventUrl=a)},null,512),[[i,e.value.eventUrl]]),Q,n(l("input",{type:"text","onUpdate:modelValue":t[6]||(t[6]=a=>e.value.importQueueName=a)},null,512),[[i,e.value.importQueueName]]),q,n(l("input",{type:"checkbox","onUpdate:modelValue":t[7]||(t[7]=a=>e.value.importQueueActive=a),class:"justify-self-start"},null,512),[[u,e.value.importQueueActive]]),M,n(l("input",{type:"checkbox","onUpdate:modelValue":t[8]||(t[8]=a=>e.value.cleanUtf8Active=a),class:"justify-self-start"},null,512),[[u,e.value.cleanUtf8Active]]),R,n(l("input",{type:"checkbox","onUpdate:modelValue":t[9]||(t[9]=a=>e.value.isHtmlTransformation=a),class:"justify-self-start"},null,512),[[u,e.value.isHtmlTransformation]]),K,O,(s(!0),r(v,null,_(d(x),(a,g)=>(s(),r(v,null,[l("label",null,c(g),1),l("div",null,[(s(!0),r(v,null,_(a,b=>(s(),r("div",W,[n(l("input",{type:"checkbox",value:b.key,"onUpdate:modelValue":t[10]||(t[10]=h=>e.value.permissions=h)},null,8,$),[[u,e.value.permissions]]),w(" "+c(b.key),1)]))),256))])],64))),256))])]),_:1})):E("",!0)}};I(J).mount("#vueapp");
