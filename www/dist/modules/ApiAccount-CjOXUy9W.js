import{r as h,o as s,a as j,A as f,p as m,u as r,e as l,t as c,w as n,n as u,k as i,b as d,F as v,j as y,z as w,l as E,c as B}from"../vue-DC0yt6en.js";import{a as _}from"../axios-Cm0UX6qg.js";import{s as I}from"../index.esm-CSd3prbL.js";import{_ as N}from"../AutoComplete.vue_vue_type_script_setup_true_lang-CIE7TnhK.js";import{a as k}from"../button.esm-DaA8si6D.js";import{r as C}from"../jqueryBridge-CQYx4hBB.js";import"../index.esm-DTA9bGEg.js";import"../index.esm-DdDKNz7c.js";const L={class:"grid gap-1",style:{"grid-template-columns":"25% 75%"}},P=l("label",null,"API Account ID:",-1),T=l("label",null,"Aktiv:",-1),D=l("label",null,"Bezeichnung:",-1),z=l("label",null,"Projekt:",-1),H=l("label",null,"App Name / Benutzername:",-1),S=l("label",null,"Initkey / Passwort:",-1),F=l("label",null,"Event URL:",-1),Q=l("label",null,"Warteschlange Bezeichnung:",-1),M=l("label",null,"Import Warteschlange:",-1),R=l("label",null,"UTF8 Clean:",-1),q=l("label",null,"Ohne HTML Umwandlung:",-1),K=l("h2",null,"Permissions",-1),O=l("div",null,null,-1),W={style:{"margin-bottom":"2px"}},$=["value"],G={__name:"ApiAccountEdit",setup(J){const e=h(null),x=window.apiAccountPermissions;document.querySelector("a.neubuttonlink").addEventListener("click",()=>{e.value=Object({permissions:[]})}),document.querySelector("#api_account_list").addEventListener("click",o=>{if(o.target instanceof Element){let t=o.target.closest("a.get");t&&t.dataset.id>0&&V(t.dataset.id)}});async function U(){await _.post("index.php?module=api_account&action=list&cmd=save",e.value).then(()=>{C(),p()})}async function V(o){await _.post("index.php?module=api_account&action=list&cmd=get",{id:parseInt(o)}).then(t=>e.value=t.data)}function p(){e.value=null}return(o,t)=>e.value?(s(),j(r(I),{key:0,visible:"",modal:"",header:"API Account",style:{width:"940px"},"onUpdate:visible":p},{footer:f(()=>[m(r(k),{label:"ABBRECHEN",onClick:p}),m(r(k),{label:"SPEICHERN",onClick:U,disabled:!e.value.name},null,8,["disabled"])]),default:f(()=>[l("div",L,[P,l("span",null,c(e.value.id),1),T,n(l("input",{type:"checkbox","onUpdate:modelValue":t[0]||(t[0]=a=>e.value.active=a),class:"justify-self-start"},null,512),[[u,e.value.active]]),D,n(l("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=a=>e.value.name=a)},null,512),[[i,e.value.name]]),z,m(N,{modelValue:e.value.projectId,"onUpdate:modelValue":t[2]||(t[2]=a=>e.value.projectId=a),optionLabel:a=>[a.abkuerzung,a.name].join(" "),ajaxFilter:"projektname",forceSelection:""},null,8,["modelValue","optionLabel"]),H,n(l("input",{type:"text","onUpdate:modelValue":t[3]||(t[3]=a=>e.value.remoteDomain=a)},null,512),[[i,e.value.remoteDomain]]),S,n(l("input",{type:"text","onUpdate:modelValue":t[4]||(t[4]=a=>e.value.initKey=a)},null,512),[[i,e.value.initKey]]),F,n(l("input",{type:"text","onUpdate:modelValue":t[5]||(t[5]=a=>e.value.eventUrl=a)},null,512),[[i,e.value.eventUrl]]),Q,n(l("input",{type:"text","onUpdate:modelValue":t[6]||(t[6]=a=>e.value.importQueueName=a)},null,512),[[i,e.value.importQueueName]]),M,n(l("input",{type:"checkbox","onUpdate:modelValue":t[7]||(t[7]=a=>e.value.importQueueActive=a),class:"justify-self-start"},null,512),[[u,e.value.importQueueActive]]),R,n(l("input",{type:"checkbox","onUpdate:modelValue":t[8]||(t[8]=a=>e.value.cleanUtf8Active=a),class:"justify-self-start"},null,512),[[u,e.value.cleanUtf8Active]]),q,n(l("input",{type:"checkbox","onUpdate:modelValue":t[9]||(t[9]=a=>e.value.isHtmlTransformation=a),class:"justify-self-start"},null,512),[[u,e.value.isHtmlTransformation]]),K,O,(s(!0),d(v,null,y(r(x),(a,g)=>(s(),d(v,null,[l("label",null,c(g),1),l("div",null,[(s(!0),d(v,null,y(a,b=>(s(),d("div",W,[n(l("input",{type:"checkbox",value:b.key,"onUpdate:modelValue":t[10]||(t[10]=A=>e.value.permissions=A)},null,8,$),[[u,e.value.permissions]]),w(" "+c(b.key),1)]))),256))])],64))),256))])]),_:1})):E("",!0)}};B(G).mount("#vueapp");
