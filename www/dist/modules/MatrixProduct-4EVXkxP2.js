import{a as E}from"../axios-Cm0UX6qg.js";import{s as de,a as pe,b as Z,_ as ce,O as we,c as Fe,d as ke,r as Le}from"../AutoComplete-BYTBwPPi.js";import{U as fe,Q as f,R as m,S as he,V as U,W as me,o as p,a as h,b as a,m as d,X as v,w as x,i as K,q as S,H as Y,n as N,t as F,j as V,l as O,Y as be,P as k,F as A,g as ie,O as H,r as P,e as Q,h as I,k as _,Z as $,_ as Ve,T as Ee,c as Me}from"../vue-DlXmU008.js";import{B as ye,R as ge,b as ve,a as D,s as Ke,c as Ce}from"../button.esm-Bir0BxPF.js";import{A as X}from"../ajaxErrorHandler-BwWU8vup.js";import{s as Te}from"../index.esm-C_3rAGPX.js";import{s as De}from"../index.esm-iTYzIVkk.js";var Pe={root:function(e){e.instance;var i=e.props;return["p-listbox p-component",{"p-disabled":i.disabled,"p-invalid":i.invalid}]},header:"p-listbox-header",filterContainer:"p-listbox-filter-container",filterInput:"p-listbox-filter p-inputtext p-component",filterIcon:"p-listbox-filter-icon",wrapper:"p-listbox-list-wrapper",list:"p-listbox-list",itemGroup:"p-listbox-item-group",item:function(e){var i=e.instance,s=e.option,o=e.index,n=e.getItemOptions;return["p-listbox-item",{"p-highlight":i.isSelected(s),"p-focus":i.focusedOptionIndex===i.getOptionIndex(o,n),"p-disabled":i.isOptionDisabled(s)}]},emptyMessage:"p-listbox-empty-message"},Ae=ye.extend({name:"listbox",classes:Pe}),He={name:"BaseListbox",extends:ve,props:{modelValue:null,options:Array,optionLabel:null,optionValue:null,optionDisabled:null,optionGroupLabel:null,optionGroupChildren:null,listStyle:null,invalid:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},dataKey:null,multiple:{type:Boolean,default:!1},metaKeySelection:{type:Boolean,default:!1},filter:Boolean,filterPlaceholder:String,filterLocale:String,filterMatchMode:{type:String,default:"contains"},filterFields:{type:Array,default:null},filterInputProps:null,virtualScrollerOptions:{type:Object,default:null},autoOptionFocus:{type:Boolean,default:!0},selectOnFocus:{type:Boolean,default:!1},focusOnHover:{type:Boolean,default:!0},filterMessage:{type:String,default:null},selectionMessage:{type:String,default:null},emptySelectionMessage:{type:String,default:null},emptyFilterMessage:{type:String,default:null},emptyMessage:{type:String,default:null},filterIcon:{type:String,default:void 0},tabindex:{type:Number,default:0},ariaLabel:{type:String,default:null},ariaLabelledby:{type:String,default:null}},style:Ae,provide:function(){return{$parentInstance:this}}};function oe(t){return Ge(t)||Ue(t)||Be(t)||Re()}function Re(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Be(t,e){if(t){if(typeof t=="string")return ee(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);if(i==="Object"&&t.constructor&&(i=t.constructor.name),i==="Map"||i==="Set")return Array.from(t);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return ee(t,e)}}function Ue(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Ge(t){if(Array.isArray(t))return ee(t)}function ee(t,e){(e==null||e>t.length)&&(e=t.length);for(var i=0,s=new Array(e);i<e;i++)s[i]=t[i];return s}var Oe={name:"Listbox",extends:He,inheritAttrs:!1,emits:["update:modelValue","change","focus","blur","filter"],list:null,virtualScroller:null,optionTouched:!1,startRangeIndex:-1,searchTimeout:null,searchValue:"",data:function(){return{id:this.$attrs.id,filterValue:null,focused:!1,focusedOptionIndex:-1}},watch:{"$attrs.id":{immediate:!0,handler:function(e){this.id=e||fe()}},options:function(){this.autoUpdateModel()}},mounted:function(){this.autoUpdateModel()},methods:{getOptionIndex:function(e,i){return this.virtualScrollerDisabled?e:i&&i(e).index},getOptionLabel:function(e){return this.optionLabel?f.resolveFieldData(e,this.optionLabel):e},getOptionValue:function(e){return this.optionValue?f.resolveFieldData(e,this.optionValue):e},getOptionRenderKey:function(e,i){return(this.dataKey?f.resolveFieldData(e,this.dataKey):this.getOptionLabel(e))+"_"+i},getPTOptions:function(e,i,s,o){return this.ptm(o,{context:{selected:this.isSelected(e),focused:this.focusedOptionIndex===this.getOptionIndex(s,i),disabled:this.isOptionDisabled(e)}})},isOptionDisabled:function(e){return this.optionDisabled?f.resolveFieldData(e,this.optionDisabled):!1},isOptionGroup:function(e){return this.optionGroupLabel&&e.optionGroup&&e.group},getOptionGroupLabel:function(e){return f.resolveFieldData(e,this.optionGroupLabel)},getOptionGroupChildren:function(e){return f.resolveFieldData(e,this.optionGroupChildren)},getAriaPosInset:function(e){var i=this;return(this.optionGroupLabel?e-this.visibleOptions.slice(0,e).filter(function(s){return i.isOptionGroup(s)}).length:e)+1},onFirstHiddenFocus:function(){m.focus(this.list);var e=m.getFirstFocusableElement(this.$el,':not([data-p-hidden-focusable="true"])');this.$refs.lastHiddenFocusableElement.tabIndex=m.isElement(e)?void 0:-1,this.$refs.firstHiddenFocusableElement.tabIndex=-1},onLastHiddenFocus:function(e){var i=e.relatedTarget;if(i===this.list){var s=m.getFirstFocusableElement(this.$el,':not([data-p-hidden-focusable="true"])');m.focus(s),this.$refs.firstHiddenFocusableElement.tabIndex=void 0}else m.focus(this.$refs.firstHiddenFocusableElement);this.$refs.lastHiddenFocusableElement.tabIndex=-1},onFocusout:function(e){!this.$el.contains(e.relatedTarget)&&this.$refs.lastHiddenFocusableElement&&this.$refs.firstHiddenFocusableElement&&(this.$refs.lastHiddenFocusableElement.tabIndex=this.$refs.firstHiddenFocusableElement.tabIndex=void 0)},onListFocus:function(e){this.focused=!0,this.focusedOptionIndex=this.focusedOptionIndex!==-1?this.focusedOptionIndex:this.autoOptionFocus?this.findFirstFocusedOptionIndex():this.findSelectedOptionIndex(),this.autoUpdateModel(),this.$emit("focus",e)},onListBlur:function(e){this.focused=!1,this.focusedOptionIndex=this.startRangeIndex=-1,this.searchValue="",this.$emit("blur",e)},onListKeyDown:function(e){var i=this,s=e.metaKey||e.ctrlKey;switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e);break;case"Home":this.onHomeKey(e);break;case"End":this.onEndKey(e);break;case"PageDown":this.onPageDownKey(e);break;case"PageUp":this.onPageUpKey(e);break;case"Enter":case"NumpadEnter":case"Space":this.onSpaceKey(e);break;case"Tab":break;case"ShiftLeft":case"ShiftRight":this.onShiftKey(e);break;default:if(this.multiple&&e.code==="KeyA"&&s){var o=this.visibleOptions.filter(function(n){return i.isValidOption(n)}).map(function(n){return i.getOptionValue(n)});this.updateModel(e,o),e.preventDefault();break}!s&&f.isPrintableCharacter(e.key)&&(this.searchOptions(e,e.key),e.preventDefault());break}},onOptionSelect:function(e,i){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:-1;this.disabled||this.isOptionDisabled(i)||(this.multiple?this.onOptionSelectMultiple(e,i):this.onOptionSelectSingle(e,i),this.optionTouched=!1,s!==-1&&(this.focusedOptionIndex=s))},onOptionMouseDown:function(e,i){this.changeFocusedOptionIndex(e,i)},onOptionMouseMove:function(e,i){this.focusOnHover&&this.focused&&this.changeFocusedOptionIndex(e,i)},onOptionTouchEnd:function(){this.disabled||(this.optionTouched=!0)},onOptionSelectSingle:function(e,i){var s=this.isSelected(i),o=!1,n=null,u=this.optionTouched?!1:this.metaKeySelection;if(u){var r=e&&(e.metaKey||e.ctrlKey);s?r&&(n=null,o=!0):(n=this.getOptionValue(i),o=!0)}else n=s?null:this.getOptionValue(i),o=!0;o&&this.updateModel(e,n)},onOptionSelectMultiple:function(e,i){var s=this.isSelected(i),o=null,n=this.optionTouched?!1:this.metaKeySelection;if(n){var u=e.metaKey||e.ctrlKey;s?o=u?this.removeOption(i):[this.getOptionValue(i)]:(o=u?this.modelValue||[]:[],o=[].concat(oe(o),[this.getOptionValue(i)]))}else o=s?this.removeOption(i):[].concat(oe(this.modelValue||[]),[this.getOptionValue(i)]);this.updateModel(e,o)},onOptionSelectRange:function(e){var i=this,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:-1,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:-1;if(s===-1&&(s=this.findNearestSelectedOptionIndex(o,!0)),o===-1&&(o=this.findNearestSelectedOptionIndex(s)),s!==-1&&o!==-1){var n=Math.min(s,o),u=Math.max(s,o),r=this.visibleOptions.slice(n,u+1).filter(function(l){return i.isValidOption(l)}).map(function(l){return i.getOptionValue(l)});this.updateModel(e,r)}},onFilterChange:function(e){this.$emit("filter",{originalEvent:e,value:e.target.value}),this.focusedOptionIndex=this.startRangeIndex=-1},onFilterBlur:function(){this.focusedOptionIndex=this.startRangeIndex=-1},onFilterKeyDown:function(e){switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e);break;case"ArrowLeft":case"ArrowRight":this.onArrowLeftKey(e,!0);break;case"Home":this.onHomeKey(e,!0);break;case"End":this.onEndKey(e,!0);break;case"Enter":case"NumpadEnter":this.onEnterKey(e);break;case"ShiftLeft":case"ShiftRight":this.onShiftKey(e);break}},onArrowDownKey:function(e){var i=this.focusedOptionIndex!==-1?this.findNextOptionIndex(this.focusedOptionIndex):this.findFirstFocusedOptionIndex();this.multiple&&e.shiftKey&&this.onOptionSelectRange(e,this.startRangeIndex,i),this.changeFocusedOptionIndex(e,i),e.preventDefault()},onArrowUpKey:function(e){var i=this.focusedOptionIndex!==-1?this.findPrevOptionIndex(this.focusedOptionIndex):this.findLastFocusedOptionIndex();this.multiple&&e.shiftKey&&this.onOptionSelectRange(e,i,this.startRangeIndex),this.changeFocusedOptionIndex(e,i),e.preventDefault()},onArrowLeftKey:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;i&&(this.focusedOptionIndex=-1)},onHomeKey:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(i)e.currentTarget.setSelectionRange(0,0),this.focusedOptionIndex=-1;else{var s=e.metaKey||e.ctrlKey,o=this.findFirstOptionIndex();this.multiple&&e.shiftKey&&s&&this.onOptionSelectRange(e,o,this.startRangeIndex),this.changeFocusedOptionIndex(e,o)}e.preventDefault()},onEndKey:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(i){var s=e.currentTarget,o=s.value.length;s.setSelectionRange(o,o),this.focusedOptionIndex=-1}else{var n=e.metaKey||e.ctrlKey,u=this.findLastOptionIndex();this.multiple&&e.shiftKey&&n&&this.onOptionSelectRange(e,this.startRangeIndex,u),this.changeFocusedOptionIndex(e,u)}e.preventDefault()},onPageUpKey:function(e){this.scrollInView(0),e.preventDefault()},onPageDownKey:function(e){this.scrollInView(this.visibleOptions.length-1),e.preventDefault()},onEnterKey:function(e){this.focusedOptionIndex!==-1&&(this.multiple&&e.shiftKey?this.onOptionSelectRange(e,this.focusedOptionIndex):this.onOptionSelect(e,this.visibleOptions[this.focusedOptionIndex]))},onSpaceKey:function(e){this.onEnterKey(e)},onShiftKey:function(){this.startRangeIndex=this.focusedOptionIndex},isOptionMatched:function(e){var i;return this.isValidOption(e)&&((i=this.getOptionLabel(e))===null||i===void 0?void 0:i.toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale)))},isValidOption:function(e){return f.isNotEmpty(e)&&!(this.isOptionDisabled(e)||this.isOptionGroup(e))},isValidSelectedOption:function(e){return this.isValidOption(e)&&this.isSelected(e)},isEquals:function(e,i){return f.equals(e,i,this.equalityKey)},isSelected:function(e){var i=this,s=this.getOptionValue(e);return this.multiple?(this.modelValue||[]).some(function(o){return i.isEquals(o,s)}):this.isEquals(this.modelValue,s)},findFirstOptionIndex:function(){var e=this;return this.visibleOptions.findIndex(function(i){return e.isValidOption(i)})},findLastOptionIndex:function(){var e=this;return f.findLastIndex(this.visibleOptions,function(i){return e.isValidOption(i)})},findNextOptionIndex:function(e){var i=this,s=e<this.visibleOptions.length-1?this.visibleOptions.slice(e+1).findIndex(function(o){return i.isValidOption(o)}):-1;return s>-1?s+e+1:e},findPrevOptionIndex:function(e){var i=this,s=e>0?f.findLastIndex(this.visibleOptions.slice(0,e),function(o){return i.isValidOption(o)}):-1;return s>-1?s:e},findSelectedOptionIndex:function(){var e=this;if(this.hasSelectedOption)if(this.multiple){for(var i=function(){var u=e.modelValue[o],r=e.visibleOptions.findIndex(function(l){return e.isValidSelectedOption(l)&&e.isEquals(u,e.getOptionValue(l))});if(r>-1)return{v:r}},s,o=this.modelValue.length-1;o>=0;o--)if(s=i(),s)return s.v}else return this.visibleOptions.findIndex(function(n){return e.isValidSelectedOption(n)});return-1},findFirstSelectedOptionIndex:function(){var e=this;return this.hasSelectedOption?this.visibleOptions.findIndex(function(i){return e.isValidSelectedOption(i)}):-1},findLastSelectedOptionIndex:function(){var e=this;return this.hasSelectedOption?f.findLastIndex(this.visibleOptions,function(i){return e.isValidSelectedOption(i)}):-1},findNextSelectedOptionIndex:function(e){var i=this,s=this.hasSelectedOption&&e<this.visibleOptions.length-1?this.visibleOptions.slice(e+1).findIndex(function(o){return i.isValidSelectedOption(o)}):-1;return s>-1?s+e+1:-1},findPrevSelectedOptionIndex:function(e){var i=this,s=this.hasSelectedOption&&e>0?f.findLastIndex(this.visibleOptions.slice(0,e),function(o){return i.isValidSelectedOption(o)}):-1;return s>-1?s:-1},findNearestSelectedOptionIndex:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,s=-1;return this.hasSelectedOption&&(i?(s=this.findPrevSelectedOptionIndex(e),s=s===-1?this.findNextSelectedOptionIndex(e):s):(s=this.findNextSelectedOptionIndex(e),s=s===-1?this.findPrevSelectedOptionIndex(e):s)),s>-1?s:e},findFirstFocusedOptionIndex:function(){var e=this.findFirstSelectedOptionIndex();return e<0?this.findFirstOptionIndex():e},findLastFocusedOptionIndex:function(){var e=this.findLastSelectedOptionIndex();return e<0?this.findLastOptionIndex():e},searchOptions:function(e,i){var s=this;this.searchValue=(this.searchValue||"")+i;var o=-1;f.isNotEmpty(this.searchValue)&&(this.focusedOptionIndex!==-1?(o=this.visibleOptions.slice(this.focusedOptionIndex).findIndex(function(n){return s.isOptionMatched(n)}),o=o===-1?this.visibleOptions.slice(0,this.focusedOptionIndex).findIndex(function(n){return s.isOptionMatched(n)}):o+this.focusedOptionIndex):o=this.visibleOptions.findIndex(function(n){return s.isOptionMatched(n)}),o===-1&&this.focusedOptionIndex===-1&&(o=this.findFirstFocusedOptionIndex()),o!==-1&&this.changeFocusedOptionIndex(e,o)),this.searchTimeout&&clearTimeout(this.searchTimeout),this.searchTimeout=setTimeout(function(){s.searchValue="",s.searchTimeout=null},500)},removeOption:function(e){var i=this;return this.modelValue.filter(function(s){return!f.equals(s,i.getOptionValue(e),i.equalityKey)})},changeFocusedOptionIndex:function(e,i){this.focusedOptionIndex!==i&&(this.focusedOptionIndex=i,this.scrollInView(),this.selectOnFocus&&!this.multiple&&this.onOptionSelect(e,this.visibleOptions[i]))},scrollInView:function(){var e=this,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:-1;this.$nextTick(function(){var s=i!==-1?"".concat(e.id,"_").concat(i):e.focusedOptionId,o=m.findSingle(e.list,'li[id="'.concat(s,'"]'));o?o.scrollIntoView&&o.scrollIntoView({block:"nearest",inline:"nearest",behavior:"smooth"}):e.virtualScrollerDisabled||e.virtualScroller&&e.virtualScroller.scrollToIndex(i!==-1?i:e.focusedOptionIndex)})},autoUpdateModel:function(){this.selectOnFocus&&this.autoOptionFocus&&!this.hasSelectedOption&&!this.multiple&&this.focused&&(this.focusedOptionIndex=this.findFirstFocusedOptionIndex(),this.onOptionSelect(null,this.visibleOptions[this.focusedOptionIndex]))},updateModel:function(e,i){this.$emit("update:modelValue",i),this.$emit("change",{originalEvent:e,value:i})},flatOptions:function(e){var i=this;return(e||[]).reduce(function(s,o,n){s.push({optionGroup:o,group:!0,index:n});var u=i.getOptionGroupChildren(o);return u&&u.forEach(function(r){return s.push(r)}),s},[])},listRef:function(e,i){this.list=e,i&&i(e)},virtualScrollerRef:function(e){this.virtualScroller=e}},computed:{visibleOptions:function(){var e=this.optionGroupLabel?this.flatOptions(this.options):this.options||[];return this.filterValue?he.filter(e,this.searchFields,this.filterValue,this.filterMatchMode,this.filterLocale):e},hasSelectedOption:function(){return f.isNotEmpty(this.modelValue)},equalityKey:function(){return this.optionValue?null:this.dataKey},searchFields:function(){return this.filterFields||[this.optionLabel]},filterResultMessageText:function(){return f.isNotEmpty(this.visibleOptions)?this.filterMessageText.replaceAll("{0}",this.visibleOptions.length):this.emptyFilterMessageText},filterMessageText:function(){return this.filterMessage||this.$primevue.config.locale.searchMessage||""},emptyFilterMessageText:function(){return this.emptyFilterMessage||this.$primevue.config.locale.emptySearchMessage||this.$primevue.config.locale.emptyFilterMessage||""},emptyMessageText:function(){return this.emptyMessage||this.$primevue.config.locale.emptyMessage||""},selectionMessageText:function(){return this.selectionMessage||this.$primevue.config.locale.selectionMessage||""},emptySelectionMessageText:function(){return this.emptySelectionMessage||this.$primevue.config.locale.emptySelectionMessage||""},selectedMessageText:function(){return this.hasSelectedOption?this.selectionMessageText.replaceAll("{0}",this.multiple?this.modelValue.length:"1"):this.emptySelectionMessageText},focusedOptionId:function(){return this.focusedOptionIndex!==-1?"".concat(this.id,"_").concat(this.focusedOptionIndex):null},ariaSetSize:function(){var e=this;return this.visibleOptions.filter(function(i){return!e.isOptionGroup(i)}).length},virtualScrollerDisabled:function(){return!this.virtualScrollerOptions}},directives:{ripple:ge},components:{VirtualScroller:de,SearchIcon:pe}};function z(t){"@babel/helpers - typeof";return z=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},z(t)}function se(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),i.push.apply(i,s)}return i}function le(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?se(Object(i),!0).forEach(function(s){je(t,s,i[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):se(Object(i)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(i,s))})}return t}function je(t,e,i){return e=Ne(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function Ne(t){var e=ze(t,"string");return z(e)=="symbol"?e:String(e)}function ze(t,e){if(z(t)!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var s=i.call(t,e||"default");if(z(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var qe=["id"],We=["tabindex"],Ze=["placeholder","aria-owns","aria-activedescendant","tabindex"],Qe=["id","aria-multiselectable","aria-label","aria-labelledby","aria-activedescendant","aria-disabled"],Xe=["id"],Ye=["id","aria-label","aria-selected","aria-disabled","aria-setsize","aria-posinset","onClick","onMousedown","onMousemove","data-p-highlight","data-p-focused","data-p-disabled"],Je=["tabindex"];function $e(t,e,i,s,o,n){var u=U("VirtualScroller"),r=me("ripple");return p(),h("div",d({id:o.id,class:t.cx("root"),onFocusout:e[10]||(e[10]=function(){return n.onFocusout&&n.onFocusout.apply(n,arguments)})},t.ptmi("root")),[a("span",d({ref:"firstHiddenFocusableElement",role:"presentation","aria-hidden":"true",class:"p-hidden-accessible p-hidden-focusable",tabindex:t.disabled?-1:t.tabindex,onFocus:e[0]||(e[0]=function(){return n.onFirstHiddenFocus&&n.onFirstHiddenFocus.apply(n,arguments)})},t.ptm("hiddenFirstFocusableEl"),{"data-p-hidden-accessible":!0,"data-p-hidden-focusable":!0}),null,16,We),v(t.$slots,"header",{value:t.modelValue,options:n.visibleOptions}),t.filter?(p(),h("div",d({key:0,class:t.cx("header")},t.ptm("header")),[a("div",d({class:t.cx("filterContainer")},t.ptm("filterContainer")),[x(a("input",d({ref:"filterInput","onUpdate:modelValue":e[1]||(e[1]=function(l){return o.filterValue=l}),type:"text",class:t.cx("filterInput"),placeholder:t.filterPlaceholder,role:"searchbox",autocomplete:"off","aria-owns":o.id+"_list","aria-activedescendant":n.focusedOptionId,tabindex:!t.disabled&&!o.focused?t.tabindex:-1,onInput:e[2]||(e[2]=function(){return n.onFilterChange&&n.onFilterChange.apply(n,arguments)}),onBlur:e[3]||(e[3]=function(){return n.onFilterBlur&&n.onFilterBlur.apply(n,arguments)}),onKeydown:e[4]||(e[4]=function(){return n.onFilterKeyDown&&n.onFilterKeyDown.apply(n,arguments)})},le(le({},t.filterInputProps),t.ptm("filterInput"))),null,16,Ze),[[K,o.filterValue]]),v(t.$slots,"filtericon",{class:N(t.cx("filterIcon"))},function(){return[(p(),S(Y(t.filterIcon?"span":"SearchIcon"),d({class:[t.cx("filterIcon"),t.filterIcon]},t.ptm("filterIcon")),null,16,["class"]))]})],16),a("span",d({role:"status","aria-live":"polite",class:"p-hidden-accessible"},t.ptm("hiddenFilterResult"),{"data-p-hidden-accessible":!0}),F(n.filterResultMessageText),17)],16)):V("",!0),a("div",d({ref:"listWrapper",class:t.cx("wrapper"),style:t.listStyle},t.ptm("wrapper")),[O(u,d({ref:n.virtualScrollerRef},t.virtualScrollerOptions,{style:t.listStyle,items:n.visibleOptions,tabindex:-1,disabled:n.virtualScrollerDisabled,pt:t.ptm("virtualScroller")}),be({content:k(function(l){var c=l.styleClass,L=l.contentRef,R=l.items,y=l.getItemOptions,G=l.contentStyle,B=l.itemSize;return[a("ul",d({ref:function(b){return n.listRef(b,L)},id:o.id+"_list",class:[t.cx("list"),c],style:G,tabindex:-1,role:"listbox","aria-multiselectable":t.multiple,"aria-label":t.ariaLabel,"aria-labelledby":t.ariaLabelledby,"aria-activedescendant":o.focused?n.focusedOptionId:void 0,"aria-disabled":t.disabled,onFocus:e[6]||(e[6]=function(){return n.onListFocus&&n.onListFocus.apply(n,arguments)}),onBlur:e[7]||(e[7]=function(){return n.onListBlur&&n.onListBlur.apply(n,arguments)}),onKeydown:e[8]||(e[8]=function(){return n.onListKeyDown&&n.onListKeyDown.apply(n,arguments)})},t.ptm("list")),[(p(!0),h(A,null,ie(R,function(g,b){return p(),h(A,{key:n.getOptionRenderKey(g,n.getOptionIndex(b,y))},[n.isOptionGroup(g)?(p(),h("li",d({key:0,id:o.id+"_"+n.getOptionIndex(b,y),style:{height:B?B+"px":void 0},class:t.cx("itemGroup"),role:"option"},t.ptm("itemGroup")),[v(t.$slots,"optiongroup",{option:g.optionGroup,index:n.getOptionIndex(b,y)},function(){return[H(F(n.getOptionGroupLabel(g.optionGroup)),1)]})],16,Xe)):x((p(),h("li",d({key:1,id:o.id+"_"+n.getOptionIndex(b,y),style:{height:B?B+"px":void 0},class:t.cx("item",{option:g,index:b,getItemOptions:y}),role:"option","aria-label":n.getOptionLabel(g),"aria-selected":n.isSelected(g),"aria-disabled":n.isOptionDisabled(g),"aria-setsize":n.ariaSetSize,"aria-posinset":n.getAriaPosInset(n.getOptionIndex(b,y)),onClick:function(C){return n.onOptionSelect(C,g,n.getOptionIndex(b,y))},onMousedown:function(C){return n.onOptionMouseDown(C,n.getOptionIndex(b,y))},onMousemove:function(C){return n.onOptionMouseMove(C,n.getOptionIndex(b,y))},onTouchend:e[5]||(e[5]=function(j){return n.onOptionTouchEnd()})},n.getPTOptions(g,y,b,"item"),{"data-p-highlight":n.isSelected(g),"data-p-focused":o.focusedOptionIndex===n.getOptionIndex(b,y),"data-p-disabled":n.isOptionDisabled(g)}),[v(t.$slots,"option",{option:g,index:n.getOptionIndex(b,y)},function(){return[H(F(n.getOptionLabel(g)),1)]})],16,Ye)),[[r]])],64)}),128)),o.filterValue&&(!R||R&&R.length===0)?(p(),h("li",d({key:0,class:t.cx("emptyMessage"),role:"option"},t.ptm("emptyMessage")),[v(t.$slots,"emptyfilter",{},function(){return[H(F(n.emptyFilterMessageText),1)]})],16)):!t.options||t.options&&t.options.length===0?(p(),h("li",d({key:1,class:t.cx("emptyMessage"),role:"option"},t.ptm("emptyMessage")),[v(t.$slots,"empty",{},function(){return[H(F(n.emptyMessageText),1)]})],16)):V("",!0)],16,Qe)]}),_:2},[t.$slots.loader?{name:"loader",fn:k(function(l){var c=l.options;return[v(t.$slots,"loader",{options:c})]}),key:"0"}:void 0]),1040,["style","items","disabled","pt"])],16),v(t.$slots,"footer",{value:t.modelValue,options:n.visibleOptions}),!t.options||t.options&&t.options.length===0?(p(),h("span",d({key:1,role:"status","aria-live":"polite",class:"p-hidden-accessible"},t.ptm("hiddenEmptyMessage"),{"data-p-hidden-accessible":!0}),F(n.emptyMessageText),17)):V("",!0),a("span",d({role:"status","aria-live":"polite",class:"p-hidden-accessible"},t.ptm("hiddenSelectedMessage"),{"data-p-hidden-accessible":!0}),F(n.selectedMessageText),17),a("span",d({ref:"lastHiddenFocusableElement",role:"presentation","aria-hidden":"true",class:"p-hidden-accessible p-hidden-focusable",tabindex:t.disabled?-1:t.tabindex,onFocus:e[9]||(e[9]=function(){return n.onLastHiddenFocus&&n.onLastHiddenFocus.apply(n,arguments)})},t.ptm("hiddenLastFocusableEl"),{"data-p-hidden-accessible":!0,"data-p-hidden-focusable":!0}),null,16,Je)],16,qe)}Oe.render=$e;const _e={key:0,class:"grid gap-1",style:{"grid-template-columns":"25% 75%"}},et=a("label",{for:"matrixProductOptions",style:{"padding-top":"5px"}},"Optionen:",-1),tt={__name:"AddGlobalToArticle",props:{articleId:String},emits:["save","close"],setup(t,{emit:e}){const i=t,s=e,o=P(null);P(null);const n=P([]);Q(async()=>{o.value=await fetch("index.php?module=matrixprodukt&action=list&cmd=selectoptions").then(r=>r.json())});async function u(){await E.post("index.php?module=matrixprodukt&action=artikel&cmd=addoptions",{articleId:i.articleId,optionIds:n.value}).then(()=>{s("save")}).catch(X)}return(r,l)=>(p(),S(I(Z),{visible:"",modal:"",header:"Globale Optionen hinzufügen",style:{width:"500px"},"onUpdate:visible":l[2]||(l[2]=c=>s("close"))},{footer:k(()=>[O(I(D),{label:"ABBRECHEN",onClick:l[1]||(l[1]=c=>s("close"))}),O(I(D),{label:"HINZUFÜGEN",onClick:u,disabled:n.value.length===0},null,8,["disabled"])]),default:k(()=>[o.value?(p(),h("div",_e,[et,O(I(Oe),{multiple:"",options:o.value,optionGroupLabel:"name",optionGroupChildren:"options",optionLabel:"name",optionValue:"id",listStyle:"height: 200px",modelValue:n.value,"onUpdate:modelValue":l[0]||(l[0]=c=>n.value=c)},null,8,["options","modelValue"])])):V("",!0)]),_:1}))}},it={class:"grid gap-1",style:{"grid-template-columns":"25% 75%"}},nt=a("label",{for:"matrixProduct_group_name"},"Name:",-1),ot=a("label",{for:"matrixProduct_group_nameExternal"},"Name Extern:",-1),st=a("label",{for:"matrixProduct_group_project"},"Projekt:",-1),lt={key:0,for:"matrixProduct_group_sort"},rt=a("label",{for:"matrixProduct_group_required"},"Pflicht:",-1),at=a("label",{for:"matrixProduct_group_active"},"Aktiv:",-1),ut={__name:"GroupEdit",props:{groupId:String,articleId:String},emits:["save","close"],setup(t,{emit:e}){const i=t,s=e,o=P({});Q(async()=>{if(i.groupId>0){const u=i.articleId>0?"index.php?module=matrixprodukt&action=artikel&cmd=groupedit":"index.php?module=matrixprodukt&action=list&cmd=edit";o.value=await E.get(u,{params:i}).then(r=>r.data)}});async function n(){!parseInt(i.groupId)>0&&(o.value.groupId=0);const u=i.articleId>0?"index.php?module=matrixprodukt&action=artikel&cmd=groupsave":"index.php?module=matrixprodukt&action=list&cmd=save";await E.post(u,{...i,...o.value}).catch(X).then(()=>{s("save")})}return(u,r)=>(p(),S(I(Z),{visible:"",modal:"",header:"Gruppe anlegen/bearbeiten",style:{width:"500px"},"onUpdate:visible":r[7]||(r[7]=l=>s("close")),class:"p-fluid"},{footer:k(()=>[O(I(D),{label:"ABBRECHEN",onClick:r[6]||(r[6]=l=>s("close"))}),O(I(D),{label:"SPEICHERN",onClick:n,disabled:!o.value.name},null,8,["disabled"])]),default:k(()=>[a("div",it,[nt,x(a("input",{type:"text","onUpdate:modelValue":r[0]||(r[0]=l=>o.value.name=l),required:""},null,512),[[K,o.value.name]]),ot,x(a("input",{type:"text","onUpdate:modelValue":r[1]||(r[1]=l=>o.value.nameExternal=l)},null,512),[[K,o.value.nameExternal]]),st,O(ce,{modelValue:o.value.project,"onUpdate:modelValue":r[2]||(r[2]=l=>o.value.project=l),optionLabel:l=>[l.abkuerzung,l.name].join(" "),ajaxFilter:"projektname",forceSelection:""},null,8,["modelValue","optionLabel"]),t.articleId?(p(),h("label",lt,"Sortierung:")):V("",!0),t.articleId?x((p(),h("input",{key:1,type:"text","onUpdate:modelValue":r[3]||(r[3]=l=>o.value.sort=l)},null,512)),[[K,o.value.sort]]):V("",!0),rt,x(a("input",{type:"checkbox","onUpdate:modelValue":r[4]||(r[4]=l=>o.value.required=l),class:"justify-self-start"},null,512),[[_,o.value.required]]),at,x(a("input",{type:"checkbox","onUpdate:modelValue":r[5]||(r[5]=l=>o.value.active=l),class:"justify-self-start"},null,512),[[_,o.value.active]])])]),_:1}))}},dt={class:"grid gap-1",style:{"grid-template-columns":"25% 75%"}},pt=a("label",{for:"matrixProduct_option_name"},"Name:",-1),ct=a("label",{for:"matrixProduct_option_nameExternal"},"Name Extern:",-1),ft=a("label",{for:"matrixProduct_option_articleNumberSuffix"},"Artikelnummer-Suffix:",-1),ht=a("label",{for:"matrixProduct_option_sort"},"Sortierung:",-1),mt=a("label",{for:"matrixProduct_option_active"},"Aktiv:",-1),bt={__name:"OptionEdit",props:{optionId:String,groupId:String,articleId:String},emits:["save","close"],setup(t,{emit:e}){const i=t,s=e,o=P({});Q(async()=>{if(i.optionId>0){const u=i.articleId>0?"index.php?module=matrixprodukt&action=artikel&cmd=optionedit":"index.php?module=matrixprodukt&action=optionenlist&cmd=edit";o.value=await E.get(u,{params:i}).then(r=>r.data)}});async function n(){const u=i.articleId>0?"index.php?module=matrixprodukt&action=artikel&cmd=optionsave":"index.php?module=matrixprodukt&action=optionenlist&cmd=save";await E.post(u,{...i,...o.value}).then(()=>{s("save")}).catch(X)}return(u,r)=>(p(),S(I(Z),{visible:"",modal:"",header:"Option anlegen/bearbeiten",style:{width:"500px"},"onUpdate:visible":r[6]||(r[6]=l=>s("close"))},{footer:k(()=>[O(I(D),{label:"ABBRECHEN",onClick:r[5]||(r[5]=l=>s("close"))}),O(I(D),{label:"SPEICHERN",onClick:n,disabled:!o.value.name},null,8,["disabled"])]),default:k(()=>[a("div",dt,[pt,x(a("input",{id:"matrixProduct_option_name",type:"text","onUpdate:modelValue":r[0]||(r[0]=l=>o.value.name=l),required:""},null,512),[[K,o.value.name]]),ct,x(a("input",{id:"matrixProduct_option_nameExternal",type:"text","onUpdate:modelValue":r[1]||(r[1]=l=>o.value.nameExternal=l)},null,512),[[K,o.value.nameExternal]]),ft,x(a("input",{id:"matrixProduct_option_articleNumberSuffix",type:"text","onUpdate:modelValue":r[2]||(r[2]=l=>o.value.articleNumberSuffix=l)},null,512),[[K,o.value.articleNumberSuffix]]),ht,x(a("input",{id:"matrixProduct_option_sort",type:"text","onUpdate:modelValue":r[3]||(r[3]=l=>o.value.sort=l)},null,512),[[K,o.value.sort]]),mt,x(a("input",{id:"matrixProduct_option_active",type:"checkbox","onUpdate:modelValue":r[4]||(r[4]=l=>o.value.active=l),class:"justify-self-start"},null,512),[[_,o.value.active]])])]),_:1}))}};var Ie={name:"BlankIcon",extends:Ke},yt=a("rect",{width:"1",height:"1",fill:"currentColor","fill-opacity":"0"},null,-1),gt=[yt];function vt(t,e,i,s,o,n){return p(),h("svg",d({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.pti()),gt,16)}Ie.render=vt;var Ot={root:function(e){var i=e.instance,s=e.props,o=e.state;return["p-dropdown p-component p-inputwrapper",{"p-disabled":s.disabled,"p-invalid":s.invalid,"p-variant-filled":s.variant?s.variant==="filled":i.$primevue.config.inputStyle==="filled","p-dropdown-clearable":s.showClear,"p-focus":o.focused,"p-inputwrapper-filled":i.hasSelectedOption,"p-inputwrapper-focus":o.focused||o.overlayVisible,"p-overlay-open":o.overlayVisible}]},input:function(e){var i,s=e.instance,o=e.props;return["p-dropdown-label p-inputtext",{"p-placeholder":!o.editable&&s.label===o.placeholder,"p-dropdown-label-empty":!o.editable&&!s.$slots.value&&(s.label==="p-emptylabel"||((i=s.label)===null||i===void 0?void 0:i.length)===0)}]},clearIcon:"p-dropdown-clear-icon",trigger:"p-dropdown-trigger",loadingicon:"p-dropdown-trigger-icon",dropdownIcon:"p-dropdown-trigger-icon",panel:function(e){e.props;var i=e.instance;return["p-dropdown-panel p-component",{"p-ripple-disabled":i.$primevue.config.ripple===!1}]},header:"p-dropdown-header",filterContainer:"p-dropdown-filter-container",filterInput:function(e){var i=e.props,s=e.instance;return["p-dropdown-filter p-inputtext p-component",{"p-variant-filled":i.variant?i.variant==="filled":s.$primevue.config.inputStyle==="filled"}]},filterIcon:"p-dropdown-filter-icon",wrapper:"p-dropdown-items-wrapper",list:"p-dropdown-items",itemGroup:"p-dropdown-item-group",itemGroupLabel:"p-dropdown-item-group-label",item:function(e){var i=e.instance,s=e.props,o=e.state,n=e.option,u=e.focusedOption;return["p-dropdown-item",{"p-highlight":i.isSelected(n)&&s.highlightOnSelect,"p-focus":o.focusedOptionIndex===u,"p-disabled":i.isOptionDisabled(n)}]},itemLabel:"p-dropdown-item-label",checkIcon:"p-dropdown-check-icon",blankIcon:"p-dropdown-blank-icon",emptyMessage:"p-dropdown-empty-message"},It=ye.extend({name:"dropdown",classes:Ot}),St={name:"BaseDropdown",extends:ve,props:{modelValue:null,options:Array,optionLabel:[String,Function],optionValue:[String,Function],optionDisabled:[String,Function],optionGroupLabel:[String,Function],optionGroupChildren:[String,Function],scrollHeight:{type:String,default:"200px"},filter:Boolean,filterPlaceholder:String,filterLocale:String,filterMatchMode:{type:String,default:"contains"},filterFields:{type:Array,default:null},editable:Boolean,placeholder:{type:String,default:null},variant:{type:String,default:null},invalid:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},dataKey:null,showClear:{type:Boolean,default:!1},inputId:{type:String,default:null},inputClass:{type:[String,Object],default:null},inputStyle:{type:Object,default:null},inputProps:{type:null,default:null},panelClass:{type:[String,Object],default:null},panelStyle:{type:Object,default:null},panelProps:{type:null,default:null},filterInputProps:{type:null,default:null},clearIconProps:{type:null,default:null},appendTo:{type:[String,Object],default:"body"},loading:{type:Boolean,default:!1},clearIcon:{type:String,default:void 0},dropdownIcon:{type:String,default:void 0},filterIcon:{type:String,default:void 0},loadingIcon:{type:String,default:void 0},resetFilterOnHide:{type:Boolean,default:!1},resetFilterOnClear:{type:Boolean,default:!1},virtualScrollerOptions:{type:Object,default:null},autoOptionFocus:{type:Boolean,default:!1},autoFilterFocus:{type:Boolean,default:!1},selectOnFocus:{type:Boolean,default:!1},focusOnHover:{type:Boolean,default:!0},highlightOnSelect:{type:Boolean,default:!0},checkmark:{type:Boolean,default:!1},filterMessage:{type:String,default:null},selectionMessage:{type:String,default:null},emptySelectionMessage:{type:String,default:null},emptyFilterMessage:{type:String,default:null},emptyMessage:{type:String,default:null},tabindex:{type:Number,default:0},ariaLabel:{type:String,default:null},ariaLabelledby:{type:String,default:null}},style:It,provide:function(){return{$parentInstance:this}}};function q(t){"@babel/helpers - typeof";return q=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},q(t)}function xt(t){return Lt(t)||kt(t)||Ft(t)||wt()}function wt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ft(t,e){if(t){if(typeof t=="string")return te(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);if(i==="Object"&&t.constructor&&(i=t.constructor.name),i==="Map"||i==="Set")return Array.from(t);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return te(t,e)}}function kt(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Lt(t){if(Array.isArray(t))return te(t)}function te(t,e){(e==null||e>t.length)&&(e=t.length);for(var i=0,s=new Array(e);i<e;i++)s[i]=t[i];return s}function re(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),i.push.apply(i,s)}return i}function ae(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?re(Object(i),!0).forEach(function(s){Se(t,s,i[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):re(Object(i)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(i,s))})}return t}function Se(t,e,i){return e=Vt(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function Vt(t){var e=Et(t,"string");return q(e)=="symbol"?e:String(e)}function Et(t,e){if(q(t)!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var s=i.call(t,e||"default");if(q(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ne={name:"Dropdown",extends:St,inheritAttrs:!1,emits:["update:modelValue","change","focus","blur","before-show","before-hide","show","hide","filter"],outsideClickListener:null,scrollHandler:null,resizeListener:null,labelClickListener:null,overlay:null,list:null,virtualScroller:null,searchTimeout:null,searchValue:null,isModelValueChanged:!1,data:function(){return{id:this.$attrs.id,clicked:!1,focused:!1,focusedOptionIndex:-1,filterValue:null,overlayVisible:!1}},watch:{"$attrs.id":{immediate:!0,handler:function(e){this.id=e||fe()}},modelValue:function(){this.isModelValueChanged=!0},options:function(){this.autoUpdateModel()}},mounted:function(){this.autoUpdateModel(),this.bindLabelClickListener()},updated:function(){this.overlayVisible&&this.isModelValueChanged&&this.scrollInView(this.findSelectedOptionIndex()),this.isModelValueChanged=!1},beforeUnmount:function(){this.unbindOutsideClickListener(),this.unbindResizeListener(),this.unbindLabelClickListener(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.overlay&&($.clear(this.overlay),this.overlay=null)},methods:{getOptionIndex:function(e,i){return this.virtualScrollerDisabled?e:i&&i(e).index},getOptionLabel:function(e){return this.optionLabel?f.resolveFieldData(e,this.optionLabel):e},getOptionValue:function(e){return this.optionValue?f.resolveFieldData(e,this.optionValue):e},getOptionRenderKey:function(e,i){return(this.dataKey?f.resolveFieldData(e,this.dataKey):this.getOptionLabel(e))+"_"+i},getPTItemOptions:function(e,i,s,o){return this.ptm(o,{context:{option:e,index:s,selected:this.isSelected(e),focused:this.focusedOptionIndex===this.getOptionIndex(s,i),disabled:this.isOptionDisabled(e)}})},isOptionDisabled:function(e){return this.optionDisabled?f.resolveFieldData(e,this.optionDisabled):!1},isOptionGroup:function(e){return this.optionGroupLabel&&e.optionGroup&&e.group},getOptionGroupLabel:function(e){return f.resolveFieldData(e,this.optionGroupLabel)},getOptionGroupChildren:function(e){return f.resolveFieldData(e,this.optionGroupChildren)},getAriaPosInset:function(e){var i=this;return(this.optionGroupLabel?e-this.visibleOptions.slice(0,e).filter(function(s){return i.isOptionGroup(s)}).length:e)+1},show:function(e){this.$emit("before-show"),this.overlayVisible=!0,this.focusedOptionIndex=this.focusedOptionIndex!==-1?this.focusedOptionIndex:this.autoOptionFocus?this.findFirstFocusedOptionIndex():this.editable?-1:this.findSelectedOptionIndex(),e&&m.focus(this.$refs.focusInput)},hide:function(e){var i=this,s=function(){i.$emit("before-hide"),i.overlayVisible=!1,i.clicked=!1,i.focusedOptionIndex=-1,i.searchValue="",i.resetFilterOnHide&&(i.filterValue=null),e&&m.focus(i.$refs.focusInput)};setTimeout(function(){s()},0)},onFocus:function(e){this.disabled||(this.focused=!0,this.overlayVisible&&(this.focusedOptionIndex=this.focusedOptionIndex!==-1?this.focusedOptionIndex:this.autoOptionFocus?this.findFirstFocusedOptionIndex():this.editable?-1:this.findSelectedOptionIndex(),this.scrollInView(this.focusedOptionIndex)),this.$emit("focus",e))},onBlur:function(e){this.focused=!1,this.focusedOptionIndex=-1,this.searchValue="",this.$emit("blur",e)},onKeyDown:function(e){if(this.disabled||m.isAndroid()){e.preventDefault();return}var i=e.metaKey||e.ctrlKey;switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e,this.editable);break;case"ArrowLeft":case"ArrowRight":this.onArrowLeftKey(e,this.editable);break;case"Delete":this.onDeleteKey(e);case"Home":this.onHomeKey(e,this.editable);break;case"End":this.onEndKey(e,this.editable);break;case"PageDown":this.onPageDownKey(e);break;case"PageUp":this.onPageUpKey(e);break;case"Space":this.onSpaceKey(e,this.editable);break;case"Enter":case"NumpadEnter":this.onEnterKey(e);break;case"Escape":this.onEscapeKey(e);break;case"Tab":this.onTabKey(e);break;case"Backspace":this.onBackspaceKey(e,this.editable);break;case"ShiftLeft":case"ShiftRight":break;default:!i&&f.isPrintableCharacter(e.key)&&(!this.overlayVisible&&this.show(),!this.editable&&this.searchOptions(e,e.key));break}this.clicked=!1},onEditableInput:function(e){var i=e.target.value;this.searchValue="";var s=this.searchOptions(e,i);!s&&(this.focusedOptionIndex=-1),this.updateModel(e,i),!this.overlayVisible&&f.isNotEmpty(i)&&this.show()},onContainerClick:function(e){this.disabled||this.loading||e.target.tagName==="INPUT"||e.target.getAttribute("data-pc-section")==="clearicon"||e.target.closest('[data-pc-section="clearicon"]')||((!this.overlay||!this.overlay.contains(e.target))&&(this.overlayVisible?this.hide(!0):this.show(!0)),this.clicked=!0)},onClearClick:function(e){this.updateModel(e,null),this.resetFilterOnClear&&(this.filterValue=null)},onFirstHiddenFocus:function(e){var i=e.relatedTarget===this.$refs.focusInput?m.getFirstFocusableElement(this.overlay,':not([data-p-hidden-focusable="true"])'):this.$refs.focusInput;m.focus(i)},onLastHiddenFocus:function(e){var i=e.relatedTarget===this.$refs.focusInput?m.getLastFocusableElement(this.overlay,':not([data-p-hidden-focusable="true"])'):this.$refs.focusInput;m.focus(i)},onOptionSelect:function(e,i){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=this.getOptionValue(i);this.updateModel(e,o),s&&this.hide(!0)},onOptionMouseMove:function(e,i){this.focusOnHover&&this.changeFocusedOptionIndex(e,i)},onFilterChange:function(e){var i=e.target.value;this.filterValue=i,this.focusedOptionIndex=-1,this.$emit("filter",{originalEvent:e,value:i}),!this.virtualScrollerDisabled&&this.virtualScroller.scrollToIndex(0)},onFilterKeyDown:function(e){switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e,!0);break;case"ArrowLeft":case"ArrowRight":this.onArrowLeftKey(e,!0);break;case"Home":this.onHomeKey(e,!0);break;case"End":this.onEndKey(e,!0);break;case"Enter":case"NumpadEnter":this.onEnterKey(e);break;case"Escape":this.onEscapeKey(e);break;case"Tab":this.onTabKey(e,!0);break}},onFilterBlur:function(){this.focusedOptionIndex=-1},onFilterUpdated:function(){this.overlayVisible&&this.alignOverlay()},onOverlayClick:function(e){we.emit("overlay-click",{originalEvent:e,target:this.$el})},onOverlayKeyDown:function(e){switch(e.code){case"Escape":this.onEscapeKey(e);break}},onDeleteKey:function(e){this.showClear&&(this.updateModel(e,null),e.preventDefault())},onArrowDownKey:function(e){if(!this.overlayVisible)this.show(),this.editable&&this.changeFocusedOptionIndex(e,this.findSelectedOptionIndex());else{var i=this.focusedOptionIndex!==-1?this.findNextOptionIndex(this.focusedOptionIndex):this.clicked?this.findFirstOptionIndex():this.findFirstFocusedOptionIndex();this.changeFocusedOptionIndex(e,i)}e.preventDefault()},onArrowUpKey:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(e.altKey&&!i)this.focusedOptionIndex!==-1&&this.onOptionSelect(e,this.visibleOptions[this.focusedOptionIndex]),this.overlayVisible&&this.hide(),e.preventDefault();else{var s=this.focusedOptionIndex!==-1?this.findPrevOptionIndex(this.focusedOptionIndex):this.clicked?this.findLastOptionIndex():this.findLastFocusedOptionIndex();this.changeFocusedOptionIndex(e,s),!this.overlayVisible&&this.show(),e.preventDefault()}},onArrowLeftKey:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;i&&(this.focusedOptionIndex=-1)},onHomeKey:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;i?(e.currentTarget.setSelectionRange(0,0),this.focusedOptionIndex=-1):(this.changeFocusedOptionIndex(e,this.findFirstOptionIndex()),!this.overlayVisible&&this.show()),e.preventDefault()},onEndKey:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(i){var s=e.currentTarget,o=s.value.length;s.setSelectionRange(o,o),this.focusedOptionIndex=-1}else this.changeFocusedOptionIndex(e,this.findLastOptionIndex()),!this.overlayVisible&&this.show();e.preventDefault()},onPageUpKey:function(e){this.scrollInView(0),e.preventDefault()},onPageDownKey:function(e){this.scrollInView(this.visibleOptions.length-1),e.preventDefault()},onEnterKey:function(e){this.overlayVisible?(this.focusedOptionIndex!==-1&&this.onOptionSelect(e,this.visibleOptions[this.focusedOptionIndex]),this.hide()):(this.focusedOptionIndex=-1,this.onArrowDownKey(e)),e.preventDefault()},onSpaceKey:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;!i&&this.onEnterKey(e)},onEscapeKey:function(e){this.overlayVisible&&this.hide(!0),e.preventDefault(),e.stopPropagation()},onTabKey:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;i||(this.overlayVisible&&this.hasFocusableElements()?(m.focus(this.$refs.firstHiddenFocusableElementOnOverlay),e.preventDefault()):(this.focusedOptionIndex!==-1&&this.onOptionSelect(e,this.visibleOptions[this.focusedOptionIndex]),this.overlayVisible&&this.hide(this.filter)))},onBackspaceKey:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;i&&!this.overlayVisible&&this.show()},onOverlayEnter:function(e){$.set("overlay",e,this.$primevue.config.zIndex.overlay),m.addStyles(e,{position:"absolute",top:"0",left:"0"}),this.alignOverlay(),this.scrollInView(),this.autoFilterFocus&&m.focus(this.$refs.filterInput)},onOverlayAfterEnter:function(){this.bindOutsideClickListener(),this.bindScrollListener(),this.bindResizeListener(),this.$emit("show")},onOverlayLeave:function(){this.unbindOutsideClickListener(),this.unbindScrollListener(),this.unbindResizeListener(),this.$emit("hide"),this.overlay=null},onOverlayAfterLeave:function(e){$.clear(e)},alignOverlay:function(){this.appendTo==="self"?m.relativePosition(this.overlay,this.$el):(this.overlay.style.minWidth=m.getOuterWidth(this.$el)+"px",m.absolutePosition(this.overlay,this.$el))},bindOutsideClickListener:function(){var e=this;this.outsideClickListener||(this.outsideClickListener=function(i){e.overlayVisible&&e.overlay&&!e.$el.contains(i.target)&&!e.overlay.contains(i.target)&&e.hide()},document.addEventListener("click",this.outsideClickListener))},unbindOutsideClickListener:function(){this.outsideClickListener&&(document.removeEventListener("click",this.outsideClickListener),this.outsideClickListener=null)},bindScrollListener:function(){var e=this;this.scrollHandler||(this.scrollHandler=new Ve(this.$refs.container,function(){e.overlayVisible&&e.hide()})),this.scrollHandler.bindScrollListener()},unbindScrollListener:function(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()},bindResizeListener:function(){var e=this;this.resizeListener||(this.resizeListener=function(){e.overlayVisible&&!m.isTouchDevice()&&e.hide()},window.addEventListener("resize",this.resizeListener))},unbindResizeListener:function(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)},bindLabelClickListener:function(){var e=this;if(!this.editable&&!this.labelClickListener){var i=document.querySelector('label[for="'.concat(this.inputId,'"]'));i&&m.isVisible(i)&&(this.labelClickListener=function(){m.focus(e.$refs.focusInput)},i.addEventListener("click",this.labelClickListener))}},unbindLabelClickListener:function(){if(this.labelClickListener){var e=document.querySelector('label[for="'.concat(this.inputId,'"]'));e&&m.isVisible(e)&&e.removeEventListener("click",this.labelClickListener)}},hasFocusableElements:function(){return m.getFocusableElements(this.overlay,':not([data-p-hidden-focusable="true"])').length>0},isOptionMatched:function(e){var i;return this.isValidOption(e)&&((i=this.getOptionLabel(e))===null||i===void 0?void 0:i.toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale)))},isValidOption:function(e){return f.isNotEmpty(e)&&!(this.isOptionDisabled(e)||this.isOptionGroup(e))},isValidSelectedOption:function(e){return this.isValidOption(e)&&this.isSelected(e)},isSelected:function(e){return this.isValidOption(e)&&f.equals(this.modelValue,this.getOptionValue(e),this.equalityKey)},findFirstOptionIndex:function(){var e=this;return this.visibleOptions.findIndex(function(i){return e.isValidOption(i)})},findLastOptionIndex:function(){var e=this;return f.findLastIndex(this.visibleOptions,function(i){return e.isValidOption(i)})},findNextOptionIndex:function(e){var i=this,s=e<this.visibleOptions.length-1?this.visibleOptions.slice(e+1).findIndex(function(o){return i.isValidOption(o)}):-1;return s>-1?s+e+1:e},findPrevOptionIndex:function(e){var i=this,s=e>0?f.findLastIndex(this.visibleOptions.slice(0,e),function(o){return i.isValidOption(o)}):-1;return s>-1?s:e},findSelectedOptionIndex:function(){var e=this;return this.hasSelectedOption?this.visibleOptions.findIndex(function(i){return e.isValidSelectedOption(i)}):-1},findFirstFocusedOptionIndex:function(){var e=this.findSelectedOptionIndex();return e<0?this.findFirstOptionIndex():e},findLastFocusedOptionIndex:function(){var e=this.findSelectedOptionIndex();return e<0?this.findLastOptionIndex():e},searchOptions:function(e,i){var s=this;this.searchValue=(this.searchValue||"")+i;var o=-1,n=!1;return f.isNotEmpty(this.searchValue)&&(this.focusedOptionIndex!==-1?(o=this.visibleOptions.slice(this.focusedOptionIndex).findIndex(function(u){return s.isOptionMatched(u)}),o=o===-1?this.visibleOptions.slice(0,this.focusedOptionIndex).findIndex(function(u){return s.isOptionMatched(u)}):o+this.focusedOptionIndex):o=this.visibleOptions.findIndex(function(u){return s.isOptionMatched(u)}),o!==-1&&(n=!0),o===-1&&this.focusedOptionIndex===-1&&(o=this.findFirstFocusedOptionIndex()),o!==-1&&this.changeFocusedOptionIndex(e,o)),this.searchTimeout&&clearTimeout(this.searchTimeout),this.searchTimeout=setTimeout(function(){s.searchValue="",s.searchTimeout=null},500),n},changeFocusedOptionIndex:function(e,i){this.focusedOptionIndex!==i&&(this.focusedOptionIndex=i,this.scrollInView(),this.selectOnFocus&&this.onOptionSelect(e,this.visibleOptions[i],!1))},scrollInView:function(){var e=this,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:-1;this.$nextTick(function(){var s=i!==-1?"".concat(e.id,"_").concat(i):e.focusedOptionId,o=m.findSingle(e.list,'li[id="'.concat(s,'"]'));o?o.scrollIntoView&&o.scrollIntoView({block:"nearest",inline:"start"}):e.virtualScrollerDisabled||e.virtualScroller&&e.virtualScroller.scrollToIndex(i!==-1?i:e.focusedOptionIndex)})},autoUpdateModel:function(){this.selectOnFocus&&this.autoOptionFocus&&!this.hasSelectedOption&&(this.focusedOptionIndex=this.findFirstFocusedOptionIndex(),this.onOptionSelect(null,this.visibleOptions[this.focusedOptionIndex],!1))},updateModel:function(e,i){this.$emit("update:modelValue",i),this.$emit("change",{originalEvent:e,value:i})},flatOptions:function(e){var i=this;return(e||[]).reduce(function(s,o,n){s.push({optionGroup:o,group:!0,index:n});var u=i.getOptionGroupChildren(o);return u&&u.forEach(function(r){return s.push(r)}),s},[])},overlayRef:function(e){this.overlay=e},listRef:function(e,i){this.list=e,i&&i(e)},virtualScrollerRef:function(e){this.virtualScroller=e}},computed:{visibleOptions:function(){var e=this,i=this.optionGroupLabel?this.flatOptions(this.options):this.options||[];if(this.filterValue){var s=he.filter(i,this.searchFields,this.filterValue,this.filterMatchMode,this.filterLocale);if(this.optionGroupLabel){var o=this.options||[],n=[];return o.forEach(function(u){var r=e.getOptionGroupChildren(u),l=r.filter(function(c){return s.includes(c)});l.length>0&&n.push(ae(ae({},u),{},Se({},typeof e.optionGroupChildren=="string"?e.optionGroupChildren:"items",xt(l))))}),this.flatOptions(n)}return s}return i},hasSelectedOption:function(){return f.isNotEmpty(this.modelValue)},label:function(){var e=this.findSelectedOptionIndex();return e!==-1?this.getOptionLabel(this.visibleOptions[e]):this.placeholder||"p-emptylabel"},editableInputValue:function(){var e=this.findSelectedOptionIndex();return e!==-1?this.getOptionLabel(this.visibleOptions[e]):this.modelValue||""},equalityKey:function(){return this.optionValue?null:this.dataKey},searchFields:function(){return this.filterFields||[this.optionLabel]},filterResultMessageText:function(){return f.isNotEmpty(this.visibleOptions)?this.filterMessageText.replaceAll("{0}",this.visibleOptions.length):this.emptyFilterMessageText},filterMessageText:function(){return this.filterMessage||this.$primevue.config.locale.searchMessage||""},emptyFilterMessageText:function(){return this.emptyFilterMessage||this.$primevue.config.locale.emptySearchMessage||this.$primevue.config.locale.emptyFilterMessage||""},emptyMessageText:function(){return this.emptyMessage||this.$primevue.config.locale.emptyMessage||""},selectionMessageText:function(){return this.selectionMessage||this.$primevue.config.locale.selectionMessage||""},emptySelectionMessageText:function(){return this.emptySelectionMessage||this.$primevue.config.locale.emptySelectionMessage||""},selectedMessageText:function(){return this.hasSelectedOption?this.selectionMessageText.replaceAll("{0}","1"):this.emptySelectionMessageText},focusedOptionId:function(){return this.focusedOptionIndex!==-1?"".concat(this.id,"_").concat(this.focusedOptionIndex):null},ariaSetSize:function(){var e=this;return this.visibleOptions.filter(function(i){return!e.isOptionGroup(i)}).length},virtualScrollerDisabled:function(){return!this.virtualScrollerOptions}},directives:{ripple:ge},components:{VirtualScroller:de,Portal:Fe,TimesIcon:De,ChevronDownIcon:ke,SpinnerIcon:Ce,SearchIcon:pe,CheckIcon:Te,BlankIcon:Ie}};function W(t){"@babel/helpers - typeof";return W=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},W(t)}function ue(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),i.push.apply(i,s)}return i}function T(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?ue(Object(i),!0).forEach(function(s){Mt(t,s,i[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):ue(Object(i)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(i,s))})}return t}function Mt(t,e,i){return e=Kt(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function Kt(t){var e=Ct(t,"string");return W(e)=="symbol"?e:String(e)}function Ct(t,e){if(W(t)!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var s=i.call(t,e||"default");if(W(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Tt=["id"],Dt=["id","value","placeholder","tabindex","disabled","aria-label","aria-labelledby","aria-expanded","aria-controls","aria-activedescendant","aria-invalid"],Pt=["id","tabindex","aria-label","aria-labelledby","aria-expanded","aria-controls","aria-activedescendant","aria-disabled"],At=["value","placeholder","aria-owns","aria-activedescendant"],Ht=["id"],Rt=["id"],Bt=["id","aria-label","aria-selected","aria-disabled","aria-setsize","aria-posinset","onClick","onMousemove","data-p-highlight","data-p-focused","data-p-disabled"];function Ut(t,e,i,s,o,n){var u=U("SpinnerIcon"),r=U("CheckIcon"),l=U("BlankIcon"),c=U("VirtualScroller"),L=U("Portal"),R=me("ripple");return p(),h("div",d({ref:"container",id:o.id,class:t.cx("root"),onClick:e[16]||(e[16]=function(){return n.onContainerClick&&n.onContainerClick.apply(n,arguments)})},t.ptmi("root")),[t.editable?(p(),h("input",d({key:0,ref:"focusInput",id:t.inputId,type:"text",class:[t.cx("input"),t.inputClass],style:t.inputStyle,value:n.editableInputValue,placeholder:t.placeholder,tabindex:t.disabled?-1:t.tabindex,disabled:t.disabled,autocomplete:"off",role:"combobox","aria-label":t.ariaLabel,"aria-labelledby":t.ariaLabelledby,"aria-haspopup":"listbox","aria-expanded":o.overlayVisible,"aria-controls":o.id+"_list","aria-activedescendant":o.focused?n.focusedOptionId:void 0,"aria-invalid":t.invalid||void 0,onFocus:e[0]||(e[0]=function(){return n.onFocus&&n.onFocus.apply(n,arguments)}),onBlur:e[1]||(e[1]=function(){return n.onBlur&&n.onBlur.apply(n,arguments)}),onKeydown:e[2]||(e[2]=function(){return n.onKeyDown&&n.onKeyDown.apply(n,arguments)}),onInput:e[3]||(e[3]=function(){return n.onEditableInput&&n.onEditableInput.apply(n,arguments)})},T(T({},t.inputProps),t.ptm("input"))),null,16,Dt)):(p(),h("span",d({key:1,ref:"focusInput",id:t.inputId,class:[t.cx("input"),t.inputClass],style:t.inputStyle,tabindex:t.disabled?-1:t.tabindex,role:"combobox","aria-label":t.ariaLabel||(n.label==="p-emptylabel"?void 0:n.label),"aria-labelledby":t.ariaLabelledby,"aria-haspopup":"listbox","aria-expanded":o.overlayVisible,"aria-controls":o.id+"_list","aria-activedescendant":o.focused?n.focusedOptionId:void 0,"aria-disabled":t.disabled,onFocus:e[4]||(e[4]=function(){return n.onFocus&&n.onFocus.apply(n,arguments)}),onBlur:e[5]||(e[5]=function(){return n.onBlur&&n.onBlur.apply(n,arguments)}),onKeydown:e[6]||(e[6]=function(){return n.onKeyDown&&n.onKeyDown.apply(n,arguments)})},T(T({},t.inputProps),t.ptm("input"))),[v(t.$slots,"value",{value:t.modelValue,placeholder:t.placeholder},function(){return[H(F(n.label==="p-emptylabel"?" ":n.label||"empty"),1)]})],16,Pt)),t.showClear&&t.modelValue!=null?v(t.$slots,"clearicon",{key:2,class:N(t.cx("clearIcon")),onClick:n.onClearClick,clearCallback:n.onClearClick},function(){return[(p(),S(Y(t.clearIcon?"i":"TimesIcon"),d({ref:"clearIcon",class:[t.cx("clearIcon"),t.clearIcon],onClick:n.onClearClick},T(T({},t.clearIconProps),t.ptm("clearIcon")),{"data-pc-section":"clearicon"}),null,16,["class","onClick"]))]}):V("",!0),a("div",d({class:t.cx("trigger")},t.ptm("trigger")),[t.loading?v(t.$slots,"loadingicon",{key:0,class:N(t.cx("loadingIcon"))},function(){return[t.loadingIcon?(p(),h("span",d({key:0,class:[t.cx("loadingIcon"),"pi-spin",t.loadingIcon],"aria-hidden":"true"},t.ptm("loadingIcon")),null,16)):(p(),S(u,d({key:1,class:t.cx("loadingIcon"),spin:"","aria-hidden":"true"},t.ptm("loadingIcon")),null,16,["class"]))]}):v(t.$slots,"dropdownicon",{key:1,class:N(t.cx("dropdownIcon"))},function(){return[(p(),S(Y(t.dropdownIcon?"span":"ChevronDownIcon"),d({class:[t.cx("dropdownIcon"),t.dropdownIcon],"aria-hidden":"true"},t.ptm("dropdownIcon")),null,16,["class"]))]})],16),O(L,{appendTo:t.appendTo},{default:k(function(){return[O(Ee,d({name:"p-connected-overlay",onEnter:n.onOverlayEnter,onAfterEnter:n.onOverlayAfterEnter,onLeave:n.onOverlayLeave,onAfterLeave:n.onOverlayAfterLeave},t.ptm("transition")),{default:k(function(){return[o.overlayVisible?(p(),h("div",d({key:0,ref:n.overlayRef,class:[t.cx("panel"),t.panelClass],style:t.panelStyle,onClick:e[14]||(e[14]=function(){return n.onOverlayClick&&n.onOverlayClick.apply(n,arguments)}),onKeydown:e[15]||(e[15]=function(){return n.onOverlayKeyDown&&n.onOverlayKeyDown.apply(n,arguments)})},T(T({},t.panelProps),t.ptm("panel"))),[a("span",d({ref:"firstHiddenFocusableElementOnOverlay",role:"presentation","aria-hidden":"true",class:"p-hidden-accessible p-hidden-focusable",tabindex:0,onFocus:e[7]||(e[7]=function(){return n.onFirstHiddenFocus&&n.onFirstHiddenFocus.apply(n,arguments)})},t.ptm("hiddenFirstFocusableEl"),{"data-p-hidden-accessible":!0,"data-p-hidden-focusable":!0}),null,16),v(t.$slots,"header",{value:t.modelValue,options:n.visibleOptions}),t.filter?(p(),h("div",d({key:0,class:t.cx("header")},t.ptm("header")),[a("div",d({class:t.cx("filterContainer")},t.ptm("filterContainer")),[a("input",d({ref:"filterInput",type:"text",value:o.filterValue,onVnodeMounted:e[8]||(e[8]=function(){return n.onFilterUpdated&&n.onFilterUpdated.apply(n,arguments)}),onVnodeUpdated:e[9]||(e[9]=function(){return n.onFilterUpdated&&n.onFilterUpdated.apply(n,arguments)}),class:t.cx("filterInput"),placeholder:t.filterPlaceholder,role:"searchbox",autocomplete:"off","aria-owns":o.id+"_list","aria-activedescendant":n.focusedOptionId,onKeydown:e[10]||(e[10]=function(){return n.onFilterKeyDown&&n.onFilterKeyDown.apply(n,arguments)}),onBlur:e[11]||(e[11]=function(){return n.onFilterBlur&&n.onFilterBlur.apply(n,arguments)}),onInput:e[12]||(e[12]=function(){return n.onFilterChange&&n.onFilterChange.apply(n,arguments)})},T(T({},t.filterInputProps),t.ptm("filterInput"))),null,16,At),v(t.$slots,"filtericon",{class:N(t.cx("filterIcon"))},function(){return[(p(),S(Y(t.filterIcon?"span":"SearchIcon"),d({class:[t.cx("filterIcon"),t.filterIcon]},t.ptm("filterIcon")),null,16,["class"]))]})],16),a("span",d({role:"status","aria-live":"polite",class:"p-hidden-accessible"},t.ptm("hiddenFilterResult"),{"data-p-hidden-accessible":!0}),F(n.filterResultMessageText),17)],16)):V("",!0),a("div",d({class:t.cx("wrapper"),style:{"max-height":n.virtualScrollerDisabled?t.scrollHeight:""}},t.ptm("wrapper")),[O(c,d({ref:n.virtualScrollerRef},t.virtualScrollerOptions,{items:n.visibleOptions,style:{height:t.scrollHeight},tabindex:-1,disabled:n.virtualScrollerDisabled,pt:t.ptm("virtualScroller")}),be({content:k(function(y){var G=y.styleClass,B=y.contentRef,g=y.items,b=y.getItemOptions,j=y.contentStyle,C=y.itemSize;return[a("ul",d({ref:function(M){return n.listRef(M,B)},id:o.id+"_list",class:[t.cx("list"),G],style:j,role:"listbox"},t.ptm("list")),[(p(!0),h(A,null,ie(g,function(w,M){return p(),h(A,{key:n.getOptionRenderKey(w,n.getOptionIndex(M,b))},[n.isOptionGroup(w)?(p(),h("li",d({key:0,id:o.id+"_"+n.getOptionIndex(M,b),style:{height:C?C+"px":void 0},class:t.cx("itemGroup"),role:"option"},t.ptm("itemGroup")),[v(t.$slots,"optiongroup",{option:w.optionGroup,index:n.getOptionIndex(M,b)},function(){return[a("span",d({class:t.cx("itemGroupLabel")},t.ptm("itemGroupLabel")),F(n.getOptionGroupLabel(w.optionGroup)),17)]})],16,Rt)):x((p(),h("li",d({key:1,id:o.id+"_"+n.getOptionIndex(M,b),class:t.cx("item",{option:w,focusedOption:n.getOptionIndex(M,b)}),style:{height:C?C+"px":void 0},role:"option","aria-label":n.getOptionLabel(w),"aria-selected":n.isSelected(w),"aria-disabled":n.isOptionDisabled(w),"aria-setsize":n.ariaSetSize,"aria-posinset":n.getAriaPosInset(n.getOptionIndex(M,b)),onClick:function(J){return n.onOptionSelect(J,w)},onMousemove:function(J){return n.onOptionMouseMove(J,n.getOptionIndex(M,b))},"data-p-highlight":n.isSelected(w),"data-p-focused":o.focusedOptionIndex===n.getOptionIndex(M,b),"data-p-disabled":n.isOptionDisabled(w)},n.getPTItemOptions(w,b,M,"item")),[t.checkmark?(p(),h(A,{key:0},[n.isSelected(w)?(p(),S(r,d({key:0,class:t.cx("checkIcon")},t.ptm("checkIcon")),null,16,["class"])):(p(),S(l,d({key:1,class:t.cx("blankIcon")},t.ptm("blankIcon")),null,16,["class"]))],64)):V("",!0),v(t.$slots,"option",{option:w,index:n.getOptionIndex(M,b)},function(){return[a("span",d({class:t.cx("itemLabel")},t.ptm("itemLabel")),F(n.getOptionLabel(w)),17)]})],16,Bt)),[[R]])],64)}),128)),o.filterValue&&(!g||g&&g.length===0)?(p(),h("li",d({key:0,class:t.cx("emptyMessage"),role:"option"},t.ptm("emptyMessage"),{"data-p-hidden-accessible":!0}),[v(t.$slots,"emptyfilter",{},function(){return[H(F(n.emptyFilterMessageText),1)]})],16)):!t.options||t.options&&t.options.length===0?(p(),h("li",d({key:1,class:t.cx("emptyMessage"),role:"option"},t.ptm("emptyMessage"),{"data-p-hidden-accessible":!0}),[v(t.$slots,"empty",{},function(){return[H(F(n.emptyMessageText),1)]})],16)):V("",!0)],16,Ht)]}),_:2},[t.$slots.loader?{name:"loader",fn:k(function(y){var G=y.options;return[v(t.$slots,"loader",{options:G})]}),key:"0"}:void 0]),1040,["items","style","disabled","pt"])],16),v(t.$slots,"footer",{value:t.modelValue,options:n.visibleOptions}),!t.options||t.options&&t.options.length===0?(p(),h("span",d({key:1,role:"status","aria-live":"polite",class:"p-hidden-accessible"},t.ptm("hiddenEmptyMessage"),{"data-p-hidden-accessible":!0}),F(n.emptyMessageText),17)):V("",!0),a("span",d({role:"status","aria-live":"polite",class:"p-hidden-accessible"},t.ptm("hiddenSelectedMessage"),{"data-p-hidden-accessible":!0}),F(n.selectedMessageText),17),a("span",d({ref:"lastHiddenFocusableElementOnOverlay",role:"presentation","aria-hidden":"true",class:"p-hidden-accessible p-hidden-focusable",tabindex:0,onFocus:e[13]||(e[13]=function(){return n.onLastHiddenFocus&&n.onLastHiddenFocus.apply(n,arguments)})},t.ptm("hiddenLastFocusableEl"),{"data-p-hidden-accessible":!0,"data-p-hidden-focusable":!0}),null,16)],16)):V("",!0)]}),_:3},16,["onEnter","onAfterEnter","onLeave","onAfterLeave"])]}),_:3},8,["appendTo"])],16,Tt)}ne.render=Ut;const Gt={class:"grid gap-1",style:{"grid-template-columns":"25% 75%"}},jt=a("label",null,"Artikel",-1),Nt={__name:"Variant",props:{articleId:String,variantId:String},emits:["save","close"],setup(t,{emit:e}){const i=t,s=e,o=P({});Q(async()=>{o.value=await E.get("index.php?module=matrixprodukt&action=artikel&cmd=variantedit",{params:{...i}}).then(u=>({...i,...u.data}))});async function n(){await E.post("index.php?module=matrixprodukt&action=artikel&cmd=variantsave",{...i,...o.value}).catch(X).then(()=>{s("save")})}return(u,r)=>(p(),S(I(Z),{visible:"",modal:"",header:"Variante",style:{width:"500px"},"onUpdate:visible":r[2]||(r[2]=l=>s("close"))},{footer:k(()=>[O(I(D),{label:"ABBRECHEN",onClick:r[1]||(r[1]=l=>s("close"))}),O(I(D),{label:"SPEICHERN",onClick:n})]),default:k(()=>[a("div",Gt,[jt,O(ce,{modelValue:o.value.variant,"onUpdate:modelValue":r[0]||(r[0]=l=>o.value.variant=l),optionLabel:l=>[l.nummer,l.name].join(" "),"ajax-filter":"artikelnummer",forceSelection:""},null,8,["modelValue","optionLabel"]),(p(!0),h(A,null,ie(o.value.groups,l=>(p(),h(A,null,[a("label",null,F(l.name),1),O(I(ne),{modelValue:l.selected,"onUpdate:modelValue":c=>l.selected=c,options:l.options,optionLabel:"name",optionValue:"value"},null,8,["modelValue","onUpdate:modelValue","options"])],64))),256))])]),_:1}))}},zt={class:"grid gap-1",style:{"grid-template-columns":"25% 75%"}},qt=a("label",{for:"matrixProduct_nameFrom"},"DE Name:",-1),Wt=a("label",{for:"matrixProduct_nameExternalFrom"},"DE Name Extern:",-1),Zt=a("label",{for:"matrixProduct_languageTo"},"Sprache:",-1),Qt=a("label",{for:"matrixProduct_nameTo"},"Übersetzung Name:",-1),Xt=a("label",{for:"matrixProduct_nameTo"},"Übersetzung Name Extern:",-1),Yt=["required"],Jt={__name:"Translation",props:{type:String,id:String},emits:["save","close"],setup(t,{emit:e}){const i=t,s=e,o=P({}),n=P([]);Q(async()=>{if(i.id>0){const l="index.php?module=matrixprodukt&action=translation&cmd=edit";o.value=await E.get(l,{params:i}).then(c=>c.data)}E.get("index.php",{params:{module:"ajax",action:"filter",filtername:"activelanguages",object:!0}}).then(l=>{n.value=l.data})});async function u(){!parseInt(i.id)>0&&(o.value.id=0),await E.post("index.php?module=matrixprodukt&action=translation&cmd=save",{...i,...o.value}).catch(X).then(()=>{s("save")})}function r(){return o.value.nameExternalFrom&&!o.value.nameExternalTo?!1:o.value.languageTo&&o.value.nameFrom&&o.value.nameTo}return(l,c)=>(p(),S(I(Z),{visible:"",modal:"",header:"Übersetzung anlegen/bearbeiten",style:{width:"500px"},"onUpdate:visible":c[6]||(c[6]=L=>s("close")),class:"p-fluid"},{footer:k(()=>[O(I(D),{label:"ABBRECHEN",onClick:c[5]||(c[5]=L=>s("close"))}),O(I(D),{label:"SPEICHERN",onClick:u,disabled:!r()},null,8,["disabled"])]),default:k(()=>[a("div",zt,[qt,x(a("input",{type:"text","onUpdate:modelValue":c[0]||(c[0]=L=>o.value.nameFrom=L),required:""},null,512),[[K,o.value.nameFrom]]),Wt,x(a("input",{type:"text","onUpdate:modelValue":c[1]||(c[1]=L=>o.value.nameExternalFrom=L)},null,512),[[K,o.value.nameExternalFrom]]),Zt,O(I(ne),{modelValue:o.value.languageTo,"onUpdate:modelValue":c[2]||(c[2]=L=>o.value.languageTo=L),options:n.value,"option-label":"bezeichnung_de","option-value":"iso"},null,8,["modelValue","options"]),Qt,x(a("input",{type:"text","onUpdate:modelValue":c[3]||(c[3]=L=>o.value.nameTo=L),required:""},null,512),[[K,o.value.nameTo]]),Xt,x(a("input",{type:"text","onUpdate:modelValue":c[4]||(c[4]=L=>o.value.nameExternalTo=L),required:o.value.nameExternalFrom},null,8,Yt),[[K,o.value.nameExternalTo]])])]),_:1}))}},$t={__name:"App",setup(t){const e=P(null);document.getElementById("main").addEventListener("click",async n=>{const u=n.target;if(!u||!u.classList.contains("vueAction"))return;const r=u.dataset;if(r.action.endsWith("Delete")){if(!confirm("Wirklich löschen?"))return;let c;switch(r.action){case"groupDelete":c=r.articleId>0?"index.php?module=matrixprodukt&action=artikel&cmd=groupdelete":"index.php?module=matrixprodukt&action=list&cmd=delete",await E.post(c,{groupId:r.groupId});break;case"optionDelete":c=r.articleId>0?"index.php?module=matrixprodukt&action=artikel&cmd=optiondelete":"index.php?module=matrixprodukt&action=optionenlist&cmd=delete",await E.post(c,{optionId:r.optionId});break;case"variantDelete":c="index.php?module=matrixprodukt&action=artikel&cmd=variantdelete",await E.post(c,{variantId:r.variantId});break;case"translationDelete":c="index.php?module=matrixprodukt&action=translation&cmd=delete",await E.post(c,{id:r.id,type:r.type});break}i();return}e.value=r});function i(){Le(),o()}function s(){location.reload()}function o(){e.value=null}return(n,u)=>e.value?(p(),h(A,{key:0},[e.value.action==="addGlobalToArticle"?(p(),S(tt,d({key:0},e.value,{onClose:o,onSave:s}),null,16)):e.value.action==="groupEdit"?(p(),S(ut,d({key:1},e.value,{onClose:o,onSave:s}),null,16)):e.value.action==="optionEdit"?(p(),S(bt,d({key:2},e.value,{onClose:o,onSave:i}),null,16)):e.value.action==="variantEdit"?(p(),S(Nt,d({key:3},e.value,{onClose:o,onSave:i}),null,16)):e.value.action==="translationEdit"?(p(),S(Jt,d({key:4},e.value,{onClose:o,onSave:i}),null,16)):V("",!0)],64)):V("",!0)}};Me($t).mount("#vueapp");
