var o=function(n){var a={init:function(){a.registerEvents()},registerEvents:function(){n("#supersearch-fullindex-task-trigger").on("click",function(r){r.preventDefault(),a.onClickExecuteFullIndexTask()}),n(".button-provider-activate").on("click",function(r){r.preventDefault();var e=n(this).data("indexName");a.onClickActivateProvider(e)}),n(".button-provider-deactivate").on("click",function(r){r.preventDefault();var e=n(this).data("indexName");a.onClickDeactivateProvider(e)})},onClickExecuteFullIndexTask:function(){var r=n("#supersearch-fullindex-task-wrapper");n.ajax({url:"index.php?module=supersearch&action=settings",data:{cmd:"run-full-index-task"},method:"post",dataType:"json",beforeSend:function(){r.loadingOverlay()},success:function(){var e='<div class="success">Such-Index wurde erfolgreich neu aufgebaut.</div>';e+='<a class="button button-primary" href="index.php?module=supersearch&action=settings">',e+="Seite neuladen</a>",r.html(e)},error:function(e){var t="Unbekannter Fehler";e.hasOwnProperty("responseJSON")&&e.responseJSON.hasOwnProperty("error")&&(t=e.responseJSON.error);var i='<div class="warning">';i+="Fehler beim Aufbau des Such-Indexes: ",i+=t,i+="</div>",r.html(i)},complete:function(){r.loadingOverlay("remove")}})},onClickActivateProvider:function(r){n.ajax({url:"index.php?module=supersearch&action=settings",data:{cmd:"activate-provider",index_name:r},method:"post",dataType:"json",success:function(){window.location.reload()},error:function(e){var t="Unbekannter Fehler";e.hasOwnProperty("responseJSON")&&e.responseJSON.hasOwnProperty("error")&&(t=e.responseJSON.error),alert("Fehler beim Aktivieren des Providers: "+t)}})},onClickDeactivateProvider:function(r){n.ajax({url:"index.php?module=supersearch&action=settings",data:{cmd:"deactivate-provider",index_name:r},method:"post",dataType:"json",success:function(){window.location.reload()},error:function(e){var t="Unbekannter Fehler";e.hasOwnProperty("responseJSON")&&e.responseJSON.hasOwnProperty("error")&&(t=e.responseJSON.error),alert("Fehler beim Deaktivieren des Providers: "+t)}})}};return{init:a.init}}(jQuery);$(document).ready(function(){o.init()});
