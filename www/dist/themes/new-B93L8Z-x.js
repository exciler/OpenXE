import{a as d}from"../axios-Cm0UX6qg.js";import{r as u}from"../dom-rDJOzJ7p.js";const g="collapsed",i="active",h="#sidebar",m=".sidebar-toggle",l=".list-item",p=".sidebar-submenu div",f="ontouchstart"in window;let s=null;function b(){S()}function S(){document.querySelector(m).addEventListener("click",v),document.querySelectorAll(l).forEach(t=>{f?t.addEventListener("click",e=>{let o=e.target;document.querySelectorAll(l+" ."+i).forEach(n=>r(n)),c(o)}):(t.addEventListener("mouseenter",e=>c(e.target)),t.addEventListener("mouseleave",e=>r(e.target)))})}function v(){s=document.querySelector(h).classList.toggle(g)?"true":"false",w()}function c(t){t.classList.add(i);const e=t.querySelector(p);if(e===null)return;const o=t.getBoundingClientRect(),n=e.getBoundingClientRect(),a=Math.max(Math.min(window.innerHeight-o.top-n.height,0),-o.top);e.style.top=a+"px",n.height>window.innerHeight&&(e.style.height=window.innerHeight+"px",e.style.overflow="scroll")}function r(t){t.classList.remove(i)}function w(){s!==null&&d.post("index.php?module=ajax&action=sidebar&cmd=set_collapsed&value="+s).catch(console.log)}u(b);
