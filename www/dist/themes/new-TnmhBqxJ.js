import{a as x}from"../axios-Cm0UX6qg.js";import{r as y}from"../dom-rDJOzJ7p.js";const S="collapsed",m="active",L="#sidebar",E=".sidebar-toggle",b=".list-item",M=".sidebar-submenu div",T="ontouchstart"in window;let u=null;function k(){q()}function q(){var e;(e=document.querySelector(E))==null||e.addEventListener("click",H),document.querySelectorAll(b).forEach(i=>{T?i.addEventListener("click",t=>{let n=t.target;document.querySelectorAll(b+" ."+m).forEach(l=>p(l)),w(n)}):(i.addEventListener("mouseenter",t=>w(t.target)),i.addEventListener("mouseleave",t=>p(t.target)))})}function H(){const e=document.querySelector(L);u=(e==null?void 0:e.classList.toggle(S))??!1,I()}function w(e){e.classList.add(m);const i=e.querySelector(M);if(i===null)return;const t=e.getBoundingClientRect(),n=i.getBoundingClientRect(),l=Math.max(Math.min(window.innerHeight-t.top-n.height,0),-t.top);i.style.top=l+"px",n.height>window.innerHeight&&(i.style.height=window.innerHeight+"px",i.style.overflow="scroll")}function p(e){e.classList.remove(m)}function I(){u!==null&&x.post("index.php?module=ajax&action=sidebar&cmd=set_collapsed&value="+u).catch(console.log)}$(function(){$("#tabs").tabs();var e=$("#main"),i=$("#header"),t=$("#sidebar"),n=$(".sidebar-toggle"),l,v=i.outerHeight();$(window).on("scroll",function(){l=$(this).scrollTop(),l>0&&t.hasClass("collapsed")?n.hide():n.show(),l>=v&&window.matchMedia("(min-width: 1000px)").matches?e.addClass("fixed"):e.removeClass("fixed")});function h(a){f.matches?$mobil=!1:$mobil=!0}var f=window.matchMedia("(min-width: 1000px)");h(),f.addListener(h);var s={menu:$("#mainmenu"),fullw:0},o={menu:$("#submenu"),fullw:0};s.menu.attr("data-items",s.menu.children().length),o.menu.attr("data-items",o.menu.children().length);function d(a){var g=0,r=a.menu;r.children().outerWidth(function(C,c){g+=c+1},!0),g>=r.width()&&(a.fullw==0&&r.children().outerWidth(function(C,c){a.fullw+=c+1},!0),r.addClass("merged")),a.fullw!=0&&r.width()>=a.fullw&&r.removeClass("merged")}$mobil||(d(s),d(o)),$(window).on("resize",function(){$mobil?(s.menu.removeClass("merged"),o.menu.removeClass("merged")):(d(s),d(o))}),$menuOpener=$("#header .menu-opener"),$closem=$(".close-mobile"),$menuOpener.on("click",function(){s.menu.toggleClass("fixed"),$closem.addClass("display"),$("body").css("overflow","hidden")}),s.menu.find(" > li > a").on("click",function(){o.menu.removeClass("fixed"),$(this).siblings("ul.submenu").addClass("fixed"),s.menu.find(" > li").removeClass("show").addClass("mobilehide"),$(this).parent().removeClass("mobilehide").addClass("show")}),$(".menu-wrapper").on("click",".close-mobile",function(){s.menu.removeClass("fixed").find("ul.submenu").removeClass("fixed"),s.menu.find(" > li").removeClass("mobilehide").removeClass("show"),$(this).removeClass("display"),$("body").css("overflow","visible")})});y(k);
